!function(t,n,e){"use strict";function r(t){var n={};return n[t+"/require-text/text"]={useXhr:function(){return!0}},n}function i(t){var n=t.getAttribute("init"),e=function(){var n=t.getAttribute("callback");n&&new Function("return "+n)()()},r={};return r.init=n,r.callback=e,r}function o(t){var n=t.load;t.load=function(e,r){return n.apply(t,[e,r.endsWith(".js")?r:r+".js"])}}function u(t){var e=n.config(t);return m=x[w],o(m),v=m.defined,(m.status={})&&(O=m.status),e}function s(t){var n=!1;return d(t,function(t){return t in v?void 0:(n=!0,!0)}),n}function c(t){var n=[];return d(t,function(t){t.endsWith(".html")&&(t="@html!"+t.substr(0,t.length-5)),n.push(t)}),n}function a(t){var n=[];return d(t,function(t){t=j.absolute(t,S),t.endsWith(".html")&&(t=t.substr(0,t.length-5)),n.push(t)}),n}function l(t){return d(t,function(n,e){t[e]=z+n+".html"}),t}function f(t){d(t,function(t){O[t]&&"done"===O[t]||(O[t]="loading")})}function p(t){d(t,function(t){O[t]="done"})}function g(){d(Object.keys(O),function(t){"done"!==O[t]}),e.gk.init()}function h(t,n){var e=u(P),r=b(n)?n:function(){},i=c(t),o=a(t);s(o)?(f(o),e(i,function(){p(o),r(g)})):r(g)}function d(t,n){var e=Array.prototype.forEach,r={};if(null===t)return t;if(e&&t.forEach===e)t.forEach(n);else for(var i=0,o=t.length;o>i;i+=1)if(n.call(null,t[i],i,t)===r)return}function b(t){return"function"==typeof t}function y(){var t=document.getElementsByTagName("script");return t[t.length-1]}"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),Object.keys=Object.keys||function(){var t=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=e.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on a non-object");var o=[];for(var u in i)t.call(i,u)&&o.push(u);if(n)for(var s=0;r>s;s++)t.call(i,e[s])&&o.push(e[s]);return o}}();var m,v,O,j={dirname:function(t,n){return t.split("?")[0].split("/").slice(0,n||-1).join("/")},normalize:function(t){var n,e=t.split("://"),r="",i=[];for(e.length>1&&(r=e[0]+"://"+e[1].split("/")[0],t=t.substr(r.length)),t=t.replace(/\/+/g,"/"),0===t.indexOf("/")&&(r+="/",t=t.substr(1)),e=t.split("/");n=e.shift();)".."===n?i.pop():"."!==n&&i.push(n);return r+i.join("/")},isAbsolute:function(t){return t=t.toLowerCase(),0===t.indexOf("http://")||0===t.indexOf("https://")||0===t.indexOf("data:")||"/"===t[0]},absolute:function(t,n){return j.isAbsolute(t)||(t=j.normalize((n||"")+"/"+t)),t}},k=y(),x=n.s.contexts,w="gk",A=t.location,E=A.origin,S=j.dirname(A.pathname),q=j.normalize(k.src+"/../../"),W=k.getAttribute("componentBase")||(0===q.indexOf(E)?q.substr(E.length):q),z=W+"/gk-jquerymobile/",P={context:w,baseUrl:k.getAttribute("baseUrl")||"./",map:{"*":{"@css":W+"/require-css/css","@text":W+"/require-text/text","@html":W+"/gk-loader/element/loader.min","@wdgt":W+"/gk-loader/widget/loader.min"}},config:r(W),skipDataMain:!0},B=i(k);t.registryGK=h;var I=k.getAttribute("components"),L=k.getAttribute("gk-tags"),T=[];I?T=I.split(/[\s,]+/):L&&(T=l(L.split(/[\s,]+/))),h(T,function(t){(null===B.init||B.init&&"false"!==B.init)&&t(),B.callback()})}(window,requirejs,jQuery);